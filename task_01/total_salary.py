"""
    Функція total_salary приймає шлях до файлу з заробітними платами та повертає загальну суму та середню заробітну плату.
    Якщо файл не знайдено, функція повертає 0 для обох значень.
    Якщо в рядку некоректні дані, функція виводить помилку та пропускає рядок.
"""

def total_salary(path: str) -> tuple[float, float]:
    try:
        # Відкриваємо файл для читання з кодуванням UTF-8
        with open(path, "r", encoding="utf-8") as file:
            # Зчитуємо всі рядки у список
            lines = file.readlines()

        # Створюємо порожній список для зберігання числових значень зарплат
        salaries = []
        
        # Проходимо кожен рядок із файлу
        for line in lines:
            # Видаляємо зайві пробіли та символ переходу на новий рядок
            line = line.strip()
            
            # Перевіряємо, чи рядок не порожній
            if line:
                try:
                    # Розділяємо рядок за комою: ім’я і сума
                    _, amount = line.split(",")
                    
                    # Додаємо суму (перетворену у float) до списку зарплат
                    salaries.append(float(amount))
                except ValueError:
                    # Якщо рядок некоректний (немає коми чи число не читається), повідомляємо про помилку
                    print(f"Помилка у рядку: {line}")

        # Обчислюємо загальну суму зарплат
        total = sum(salaries)
        
        # Обчислюємо середню зарплату, якщо список не порожній
        average = total / len(salaries) if salaries else 0

        # Повертаємо кортеж із двох значень: (загальна, середня)
        return total, average

    except FileNotFoundError:
        # Якщо файл не знайдено — повідомляємо користувача і повертаємо нулі
        print("Файл не знайдено.")
        return 0, 0


# Приклад виклику функції
if __name__ == "__main__":
    # Викликаємо функцію, передаючи шлях до файлу з зарплатами
    total, avg = total_salary("/Users/cordial/Documents/neo/homeworks/goit_pycore_hw_04/salaries.txt")
    
    # Виводимо результати у зручному форматі
    print(f"Загальна сума заробітної плати: {total}. Середня заробітна плата: {avg}.")
